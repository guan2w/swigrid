# Schulte Grid iOS 原生重写 - 执行与发布手册

## 1. 使用方式

- 本文档是开发执行单页：计划、待办、门禁、发布都在这里。
- 每轮开始先阅读 `01~04`。
- 每轮结束更新 `04-当前开发进度.md`。

## 2. 实施原则

- 先保证玩法与规则等价，再优化视觉与工程。
- 每轮推进最小可验证闭环，避免返工。
- 文档优先于会话记忆：关键决策必须落文档。

## 3. 当前执行清单（EPIC）

## EPIC-A 工程基础

- [x] 工程骨架与目录结构
- [x] 依赖注入容器
- [x] 字体、音效资源接入
- [x] CI 与验证脚本基础设施

## EPIC-B 规则与数据

- [x] Entity / UseCase / Repository 协议
- [x] 计分与星级规则对齐
- [x] 本地存储与容错回退
- [x] `mute` 持久化修复与验证

## EPIC-C 功能实现

- [x] Home（玩家、配置、入口）
- [x] Game（倒计时、网格、计时、结果）
- [x] Records（Mine + 占位分段）
- [x] iPhone/iPad 竖屏布局优化

## EPIC-D 测试与交付

- [x] Unit + Integration + Feature 测试
- [x] UI Test：iPhone 核心链路
- [x] UI Test：iPad 核心链路
- [ ] 真机性能验证（启动、流畅度、长时稳定性）
- [ ] 关键页面截图沉淀
- [ ] TestFlight 验证与发布准备

## 4. 自动化门禁（每轮必跑）

1. `scripts/verify.sh`
2. `scripts/verify-xcode-backend.sh`
3. `scripts/verify-ios-app.sh`
4. `scripts/verify-ios-ui-tests.sh`

## 5. 发布前手工检查

1. 空玩家名不可开局；1~16 字符可开局
2. `Grid/Dual/Mute` 重启后保持
3. 错误点击不推进；正确点击推进
4. 结果弹窗时间 2 位小数、星级正确
5. `Mine` 排序正确；`Global/Today` 占位正确
6. iPhone/iPad 竖屏无布局与交互异常

## 6. Go/No-Go 门槛

- 自动化门禁全部通过
- 手工检查全部通过
- 无 P0/P1：崩溃、卡死、错误计分、静音失效

## 7. 协作规则（强制）

1. 开发开始先读 `docs/01~04`
2. 文档与代码冲突时，先改文档再改代码
3. 每轮结束必须更新 `04-当前开发进度.md`
4. 新原则必须回写到 `01~03` 对应文档

## 8. 下一阶段优先级

1. 真机性能基线与记录模板
2. 发布链路脚本化（签名、打包、上传）
3. 发布前截图与 Go/No-Go 演练
