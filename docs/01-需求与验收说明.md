# Schulte Grid iOS 原生重写 - 需求与验收说明

## 1. 目标与范围

- 迁移目标是“游戏特性与体验灵魂”等价，不是 Flutter 代码结构复刻。
- 新实现需贴近 iOS 原生交互，便于后续 iOS 团队维护。
- 本阶段聚焦单机可用、核心玩法、可验证交付。

## 2. 已确认决策

1. 全新项目，不做 Flutter 历史数据迁移。
2. `mute` 必须持久化。
3. 字体/音效保留；动效不要求 1:1，但体验要自然流畅。
4. 平台为 `iOS 26+`，支持 `iPhone/iPad`。
5. 仅要求竖屏兼容。
6. 玩家名仅手动输入，不保留随机姓名。
7. `Records` 保留 `Mine/Global/Today`，后两项占位。

## 3. MVP 功能

### 3.1 Home

- 玩家名输入与保存（上限 16 字符）
- 配置：`3x3/4x4/5x5/6x6`、`Dual`、`Mute`
- 星级反馈展示
- 入口：`Start` / `Records` / `About`

### 3.2 Game

- 固定 3 秒倒计时
- `Next` 与 `Time` 显示
- 顺序点击数字（正确推进、错误反馈）
- 双倍模式第二轮数字
- 结束弹窗显示时间与星级

### 3.3 Records

- 分段：`Mine / Global / Today`
- `Mine` 按配置筛选并按耗时升序展示
- 字段：排名、耗时（2 位小数）、星级、玩家名

## 4. 核心规则

- `numbersCount = scale * scale * (dual ? 2 : 1)`
- 状态机：`ready -> ongoing -> finished`
- 仅点击 `nextNumber` 视为正确；错误点击不推进
- 记录最多保留 20 条，按耗时升序
- 24 小时内五星记录标记 fresh

## 5. 验收标准

- 无玩家名不可开局
- 配置与静音重启后保持
- 计时、计分、星级行为与基线一致
- 完局后结果弹窗可见且可返回首页
- `Mine` 正常展示；`Global/Today` 占位正确
- iPhone/iPad 竖屏无布局遮挡、错位、点击异常

## 6. 非目标（本阶段不做）

- 登录、云同步、支付、广告、分享
- 在线排行榜真实接入
- Flutter 历史本地数据迁移

## 7. 待确认

- About/Help 是否同步提供简体中文版本
